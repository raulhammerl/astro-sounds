<button id="theme-toggle" aria-label="Toggle dark mode">
  <span class="text-to-light">LIGHT_MODE</span>
  <span class="text-to-dark">DARK_MODE</span>
</button>

<style>
  #theme-toggle {
    padding: 0.5rem 1rem;
    cursor: pointer;
    font-family: var(--font-mono);
    border: 1px solid var(--search-border, #000);
    background: transparent;
    color: var(--search-text, #000);
    text-transform: uppercase;
    font-size: 0.7rem;
  }

  /* Logic: Hide the opposite label */
  /* When Light: Hide "To Light" */
  .text-to-light {
    display: none;
  }
  .text-to-dark {
    display: inline;
  }

  /* When Dark: Hide "To Dark", Show "To Light" */
  :global([data-theme="dark"]) .text-to-dark {
    display: none;
  }
  :global([data-theme="dark"]) .text-to-light {
    display: inline;
  }
</style>

<script>
  const toggle = document.getElementById("theme-toggle");

  const updateTheme = (theme) => {
    document.documentElement.setAttribute("data-theme", theme);
    localStorage.setItem("theme", theme);
  };

  toggle?.addEventListener("click", () => {
    const isDark =
      document.documentElement.getAttribute("data-theme") === "dark";
    updateTheme(isDark ? "light" : "dark");
  });

  // Sync with system changes
  window
    .matchMedia("(prefers-color-scheme: dark)")
    .addEventListener("change", (e) => {
      if (!localStorage.getItem("theme")) {
        updateTheme(e.matches ? "dark" : "light");
      }
    });
</script>
